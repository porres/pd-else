#N canvas 439 72 635 705 12;
#X text 435 17 see -->;
#X obj 495 17 about.MERDA;
#X text 437 220 This is a wrapper around [adsr~] from ELSE \, check it out., f 18;
#X obj 423 612 s \$0-rel;
#X obj 130 264 r \$0-rel;
#X text 208 611 The release output value can be used to set the release parameter in [voices~], f 28;
#N canvas 120 107 648 466 messages 0;
#X msg 83 87 A \$1;
#X msg 127 87 D \$1;
#X msg 174 87 S \$1;
#X msg 217 87 R \$1;
#X floatatom 83 57 5 0 2000 0 - - - 0;
#X floatatom 127 57 5 0 2000 0 - - - 0;
#X floatatom 174 57 5 0 1 0 - - - 0;
#X floatatom 217 57 5 0 2000 0 - - - 0;
#X msg 57 283 A_att \$1;
#X msg 131 283 D_att \$1;
#X msg 202 283 S_att \$1;
#X msg 272 283 R_att \$1;
#X obj 405 410 outlet;
#X obj 202 350 s \$0-out;
#X obj 174 163 s \$0-out;
#X obj 405 273 r \$0-out;
#X obj 405 180 bng 23 250 50 0 empty empty empty 0 -10 0 12 #dfdfdf #000000 #000000;
#X msg 338 180 gate \$1;
#X obj 338 150 tgl 19 0 empty empty empty 0 -10 0 12 #dfdfdf #000000 #000000 0 1;
#X text 366 150 Control gate;
#X text 433 181 Control trigger/retrigger;
#X obj 405 243 s \$0-out;
#X obj 57 243 else/knob 30 -1 1 0 0 empty empty #dfdfdf #7c7c7c black 1 0 0 0 1 320 0 0 0 empty empty 0 0 0 0 0 0 0 0 0 0;
#X obj 131 243 else/knob 30 -1 1 0 0 empty empty #dfdfdf #7c7c7c black 1 0 0 0 1 320 0 0 0 empty empty 0 0 0 0 0 0 0 0 0 0;
#X obj 202 243 else/knob 30 -1 1 0 0 empty empty #dfdfdf #7c7c7c black 1 0 0 0 1 320 0 0 0 empty empty 0 0 0 0 0 0 0 0 0 0;
#X obj 272 243 else/knob 30 -1 1 0 0 empty empty #dfdfdf #7c7c7c black 1 0 0 0 1 320 0 0 0 empty empty 0 0 0 0 0 0 0 0 0 0;
#X msg 266 87 curve \$1;
#X floatatom 266 56 5 0 2000 0 - - - 0;
#X obj 431 330 tgl 19 0 empty empty empty 0 -10 0 12 #dfdfdf #000000 #000000 0 1;
#X msg 431 360 gui \$1;
#X msg 382 59 minsus \$1;
#X floatatom 382 21 7 -1 10000 0 - - - 0;
#X floatatom 462 21 7 -1 10000 0 - - - 0;
#X msg 462 59 maxsus \$1;
#X obj 462 101 s \$0-out;
#X connect 0 0 14 0;
#X connect 1 0 14 0;
#X connect 2 0 14 0;
#X connect 3 0 14 0;
#X connect 4 0 0 0;
#X connect 5 0 1 0;
#X connect 6 0 2 0;
#X connect 7 0 3 0;
#X connect 8 0 13 0;
#X connect 9 0 13 0;
#X connect 10 0 13 0;
#X connect 11 0 13 0;
#X connect 15 0 12 0;
#X connect 16 0 21 0;
#X connect 17 0 21 0;
#X connect 18 0 17 0;
#X connect 22 0 8 0;
#X connect 23 0 9 0;
#X connect 24 0 10 0;
#X connect 25 0 11 0;
#X connect 26 0 14 0;
#X connect 27 0 26 0;
#X connect 28 0 29 0;
#X connect 29 0 12 0;
#X connect 30 0 34 0;
#X connect 31 0 30 0;
#X connect 32 0 33 0;
#X connect 33 0 34 0;
#X restore 180 296 pd messages;
#N canvas 712 173 520 544 retrigger 0;
#X obj 68 74 else/keyboard 17 80 3 3 0 0 empty empty;
#X obj 68 176 else/mono~ 10, f 28;
#X obj 68 408 else/out~;
#X obj 221 232 else/adsr.m~;
#A saved 100 50 0.25 500 1 0 0 0 0 -1 1 -1;
#A saved rcv-attack none;
#A saved;
#A saved;
#A saved;
#A saved;
#A saved;
#A saved;
#A saved;
#A saved;
#A saved;
#A saved;
#A saved;
#A saved;
#A saved;
#A saved;
#A saved;
#X text 78 19 The 2nd inlet is for retriggering with impulses. Here's an example with [mono~]., f 48;
#X obj 68 264 else/vco.m~;
#A saved 1 0 0 3 0.674999 0 0 0 0 0;
#A saved;
#A saved;
#A saved;
#A saved;
#A saved;
#A saved;
#A saved;
#A saved;
#A saved;
#A saved;
#X obj 68 334 else/vca.m~;
#A saved 1 0 0;
#A saved;
#A saved;
#X connect 0 0 1 0;
#X connect 1 0 5 0;
#X connect 1 1 3 0;
#X connect 1 2 3 1;
#X connect 3 0 6 1;
#X connect 5 0 6 0;
#X connect 6 0 2 0;
#X restore 485 386 pd retrigger;
#X obj 35 165 else/keyboard 17 80 3 3 0 0 empty empty;
#X obj 506 275 else/adsr~;
#X obj 35 318 else/voices~ 4;
#X obj 35 564 else/out~;
#X obj 43 16 else/note 375 15 Menlo empty 4 0 0 0 0 223 223 223 1 1 í ½í²© [adsr.m~] - Polyphonic ADSR envelope;
#X obj 180 325 else/adsr.m~;
#A saved 259.2 50 0.5 500 1 0 0 0 0 -1 1 0;
#A saved;
#A saved attack-learn none;
#A saved;
#A saved;
#A saved;
#A saved;
#A saved;
#A saved;
#A saved;
#A saved;
#A saved;
#A saved;
#A saved;
#A saved;
#A saved;
#A saved;
#X text 433 553 <-- sets curve parameter;
#X text 461 569 (0 is linear);
#X text 28 60 This polyphonic ADSR envelope takes multichannel signals for gate input in the left inlet and retrigger in the 2nd inlet (a bang input in the left inlet also retriggers). The other inlets are audio CV controlls for attack \, decay \, sustain and release that pass through attenuverters and are added to the knob controls. Attack \, decay and release values are in ms \, sustain point is a ratio of the gate input., f 76;
#X obj 35 405 else/vco.m~;
#A saved 1 0 0 3 0.849999 0 0 0 0 0;
#A saved;
#A saved;
#A saved;
#A saved;
#A saved;
#A saved;
#A saved;
#A saved;
#A saved;
#A saved;
#X obj 35 478 else/vca.m~;
#A saved 1 0 0;
#A saved;
#A saved;
#N canvas 334 177 950 471 min/maxsus 0;
#X obj 69 317 else/out~;
#X obj 220 117 else/adsr.m~;
#A saved 200 50 0.5 50 1 0 0 0 0 250 1 -1;
#A saved rcv-attack none;
#A saved;
#A saved;
#A saved;
#A saved;
#A saved;
#A saved;
#A saved;
#A saved;
#A saved;
#A saved;
#A saved;
#A saved;
#A saved;
#A saved;
#A saved;
#X obj 220 69 else/tempo~ -on 60;
#X obj 69 189 else/vco.m~;
#A saved 1 0 0 3 0.674999 0 0 0 0 0;
#A saved;
#A saved;
#A saved;
#A saved;
#A saved;
#A saved;
#A saved;
#A saved;
#A saved;
#A saved;
#X obj 69 249 else/vca.m~;
#A saved 1 0 0;
#A saved;
#A saved;
#X obj 69 122 else/rand.i~ 30 70;
#X obj 69 156 else/numbox~ 2 12 100 #c0c0c4 #440008 10 0 0 0;
#X text 517 62 Check the help file of [adsr~] to understand how the "minsus" and "maxsus" parameters work with more examples., f 47;
#X text 515 320 You can set both minimum and maximum sustain times to the same value \, so whatever you have as an input (either an impulse or gate) \, you end up forcing a fixed time for sustain phase., f 53;
#X text 515 122 By default \, with minsus at '-1' \, we have an "immediate release" \, which goes to the release stage when the gate is off. If you set a minimum sustain time though \, it waits for the attack and decay stages to be over before getting to the release stage even if you have a gate off before that and even if the minimum sustain time is zero. This is well suited for impulses to trigger the envelope as a "one shot"., f 53;
#X text 515 242 You can also set a maximum sustain time \, so the sustain is over even if the gate is still held. A negative value (the default) turns this feature off. A value of zero goes to the release phase as soon as you reach the sustain stage., f 53;
#X connect 1 0 4 1;
#X connect 2 0 5 0;
#X connect 2 0 1 0;
#X connect 3 0 4 0;
#X connect 4 0 0 0;
#X connect 5 0 6 0;
#X connect 6 0 3 0;
#X restore 485 418 pd min/maxsus;
#N canvas 660 166 675 533 mul 0;
#X obj 100 410 else/out~;
#X obj 251 210 else/adsr.m~;
#A saved 50 10 0.5 50 1 0 0 0 0 250 1 -1;
#A saved rcv-attack none;
#A saved;
#A saved;
#A saved;
#A saved;
#A saved;
#A saved;
#A saved;
#A saved;
#A saved;
#A saved;
#A saved;
#A saved;
#A saved;
#A saved;
#A saved;
#X obj 100 282 else/vco.m~;
#A saved 1 0 0 3 0.674999 0 0 0 0 0;
#A saved;
#A saved;
#A saved;
#A saved;
#A saved;
#A saved;
#A saved;
#A saved;
#A saved;
#A saved;
#X obj 100 342 else/vca.m~;
#A saved 1 0 0;
#A saved;
#A saved;
#X obj 100 249 else/numbox~ 2 12 100 #c0c0c4 #440008 10 0 0 0;
#X obj 494 177 sig~ 1;
#X msg 494 133 1;
#X msg 528 133 2;
#X obj 100 215 else/rand.i~ 40 60;
#X msg 451 133 0.25;
#X obj 251 162 else/impulse~ 1;
#X text 112 58 The rightmost inlet if for a time multiplier \, which affects all time parameters \, inlcuding 'minsus' and 'maxsus'.;
#X connect 1 0 3 1;
#X connect 2 0 3 0;
#X connect 3 0 0 0;
#X connect 4 0 2 0;
#X connect 5 0 1 6;
#X connect 6 0 5 0;
#X connect 7 0 5 0;
#X connect 8 0 4 0;
#X connect 9 0 5 0;
#X connect 10 0 1 0;
#X connect 10 0 8 0;
#X restore 485 448 pd mul;
#X connect 4 0 10 1;
#X connect 6 0 13 0;
#X connect 8 0 10 0;
#X connect 10 0 17 0;
#X connect 10 1 13 0;
#X connect 13 0 18 1;
#X connect 13 1 3 0;
#X connect 17 0 18 0;
#X connect 18 0 11 0;
