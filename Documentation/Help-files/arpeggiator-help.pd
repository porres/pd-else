#N canvas 457 64 562 692 10;
#X obj 306 5 cnv 15 250 40 empty empty empty 12 13 0 18 #7c7c7c #e0e4dc 0;
#N canvas 382 141 749 319 (subpatch) 0;
#X coords 0 -1 1 1 252 42 2 0 0;
#X restore 305 4 pd;
#X obj 345 12 cnv 10 10 10 empty empty ELSE 0 15 2 30 #7c7c7c #e0e4dc 0;
#X obj 458 12 cnv 10 10 10 empty empty EL 0 6 2 13 #7c7c7c #e0e4dc 0;
#X obj 478 12 cnv 10 10 10 empty empty Locus 0 6 2 13 #7c7c7c #e0e4dc 0;
#X obj 515 12 cnv 10 10 10 empty empty Solus' 0 6 2 13 #7c7c7c #e0e4dc 0;
#X obj 464 27 cnv 10 10 10 empty empty ELSE 0 6 2 13 #7c7c7c #e0e4dc 0;
#X obj 502 27 cnv 10 10 10 empty empty library 0 6 2 13 #7c7c7c #e0e4dc 0;
#X obj 3 661 cnv 15 552 21 empty empty empty 20 12 0 14 #e0e0e0 #202020 0;
#X obj 3 4 cnv 15 301 42 empty empty arpeggiator 20 20 2 37 #e0e0e0 #000000 0;
#N canvas 0 22 450 278 (subpatch) 0;
#X coords 0 1 100 -1 302 42 1;
#X restore 2 4 graph;
#X obj 22 41 cnv 4 4 4 empty empty Arpeggiator 0 28 2 18 #e0e0e0 #000000 0;
#X obj 3 608 cnv 3 550 3 empty empty arguments 8 12 0 13 #dcdcdc #000000 0;
#X obj 3 313 cnv 3 550 3 empty empty inlets 8 12 0 13 #dcdcdc #000000 0;
#X obj 3 484 cnv 3 550 3 empty empty outlets 8 12 0 13 #dcdcdc #000000 0;
#X obj 90 493 cnv 17 3 17 empty empty 0 5 9 0 16 #dcdcdc #9c9c9c 0;
#X obj 90 440 cnv 17 3 17 empty empty 1 5 9 0 16 #dcdcdc #9c9c9c 0;
#X obj 90 460 cnv 17 3 17 empty empty 2 5 9 0 16 #dcdcdc #9c9c9c 0;
#X text 204 620 1) float;
#X text 204 639 2) float;
#X obj 3 519 cnv 3 550 3 empty empty flags 8 12 0 13 #dcdcdc #000000 0;
#X obj 90 321 cnv 17 3 113 empty empty 0 5 9 0 16 #dcdcdc #9c9c9c 0;
#X obj 169 135 keyboard 14 65 2 3 1 0 empty empty;
#X obj 169 280 print arpeggiator;
#X text 263 620 - bpm (default 120), f 39;
#X floatatom 266 216 5 0 0 0 - - - 0;
#X text 303 215 bpm;
#X floatatom 364 216 5 0 0 0 - - - 0;
#X text 402 209 gate duration, f 8;
#X listbox 169 217 9 0 0 0 - - - 0;
#X text 227 216 note;
#X obj 104 198 tgl 21 0 empty empty empty 0 -8 0 10 #dfdfdf #000000 #000000 0 1;
#X obj 104 168 loadbang;
#X obj 169 250 else/arpeggiator 120 0.75, f 33;
#X text 76 193 on off, f 3;
#X text 214 321 float - non zero turns arpeggiator on \, zero turns off;
#X text 238 527 -on: initialize arpeggiator to 'on', f 44;
#X text 220 338 list - note message <pitch \, velocity>, f 52;
#X text 262 357 set mode, f 45;
#X text 177 373 ext <float> -;
#X text 262 373 non zero sets to external trigger mode, f 45;
#X text 219 389 bang -;
#X text 262 389 triggers arpeggiator in external mode, f 45;
#X text 177 404 mul <float> -;
#X text 262 404 sets bpm multiplier, f 45;
#X text 213 441 float -;
#X text 213 461 float -;
#X text 262 441 set BPM, f 45;
#X text 262 461 set relative gate/note duration, f 45;
#X text 219 493 list -;
#X text 262 493 <pitch \, velocity> of arpeggiated notes, f 45;
#X text 184 542 -mul <float>: sets BPM multiplier (default 4), f 53;
#X text 232 587 -ext: sets to external mode, f 45;
#X text 263 639 - relative gate duration (default 0.75);
#X text 80 88 [arpeggiator] takes note messages and arpeggiates on the currently held notes according to a BPM and a relative note duration.;
#N canvas 559 96 520 655 example 0;
#X obj 139 216 keyboard 14 70 3 2 1 0 empty empty;
#X floatatom 235 408 5 0 0 0 - - - 0;
#X obj 50 211 tgl 19 0 empty empty empty 0 -10 0 12 #dfdfdf #000000 #000000 0 1;
#X obj 138 540 *~;
#X obj 138 470 unpack float float;
#X text 269 408 bpm;
#X obj 50 180 loadbang;
#X obj 138 582 out~;
#X msg 245 299 up, f 2;
#X msg 276 299 random;
#X floatatom 365 471 6 0 0 0 - - - 0;
#X text 412 472 dur;
#X obj 365 409 knob 50 0 1 0 0.75 empty empty #dfdfdf #7c7c7c black 1 0 0 0 1 320 0 0 0 empty empty 0 12 6 -15 0 1 0 0 0 0;
#X obj 235 377 else/initmess 120;
#X obj 138 501 else/bl.saw~ -midi, f 12;
#X obj 244 549 else/adsr~ 20 10 0.5 25;
#X msg 32 376 mul \$1;
#X obj 32 254 vradio 16 1 0 4 empty empty empty 0 -8 0 10 #dfdfdf #000000 #000000 0;
#X obj 32 327 + 1;
#X floatatom 32 350 5 0 0 0 - - - 0;
#X text 27 85 The duration of notes depend on the BPM setting and a beat multiplier value. The default BPM is 120 \, and the multiplier is 4 \, which means that notes are triggered at 1/4 of the 120 bpm beat. The duration of the note is given at a relative ration value - the default 0.75 \, which is 75% of the 1/4 of the 120 bpm beat. the minimum duration ratio is "0.01" and the maximum is "1". You can set the beat multier value with the 'mul' flag or message., f 76;
#X obj 138 442 else/arpeggiator -random 120 0.75;
#X msg 153 299 forward;
#X msg 212 299 rev;
#X obj 82 211 tgl 19 0 empty empty empty 0 -10 0 12 #dfdfdf #000000 #000000 0 1;
#X msg 82 236 sort \$1;
#X text 27 10 When not on \, the input notes are sent out. When you turn the arpeggiator on \, it starts arpeggiating with the currently held notes and others pressed in the future. The modes are forward (default) \, rev (reverse) \, alt (alternating between forward and reverse) and random. The modes are set via messages or flags. In sort mode \, notes are sorted from lower to higher (this is good for playing chords \, where you don't have a good control of the order)., f 76;
#X connect 0 0 21 0;
#X connect 1 0 21 1;
#X connect 2 0 21 0;
#X connect 3 0 7 0;
#X connect 4 0 14 0;
#X connect 4 1 15 0;
#X connect 6 0 2 0;
#X connect 8 0 21 0;
#X connect 9 0 21 0;
#X connect 10 0 21 2;
#X connect 12 0 10 0;
#X connect 13 0 1 0;
#X connect 14 0 3 0;
#X connect 15 0 3 1;
#X connect 16 0 21 0;
#X connect 17 0 18 0;
#X connect 18 0 19 0;
#X connect 19 0 16 0;
#X connect 21 0 4 0;
#X connect 22 0 21 0;
#X connect 23 0 21 0;
#X connect 24 0 25 0;
#X connect 25 0 21 0;
#X restore 441 252 pd example;
#N canvas 557 72 523 630 external 0;
#X obj 131 172 keyboard 14 70 3 2 1 0 empty empty;
#X floatatom 227 361 5 0 0 0 - - - 0;
#X obj 88 175 tgl 19 0 empty empty empty 0 -10 0 12 #dfdfdf #000000 #000000 0 1;
#X obj 130 486 *~;
#X obj 130 420 unpack float float;
#X text 268 361 bpm;
#X obj 88 144 loadbang;
#X obj 52 303 bng 25 250 50 0 empty empty empty 0 -10 0 12 #dfdfdf #000000 #000000;
#X obj 130 528 out~;
#X msg 152 326 ext \$1;
#X obj 152 295 tgl 19 0 empty empty empty 0 -10 0 12 #dfdfdf #000000 #000000 0 1;
#X floatatom 353 417 6 0 0 0 - - - 0;
#X text 400 418 dur;
#X obj 353 355 knob 50 0 1 0 0.75 empty empty #dfdfdf #7c7c7c black 1 0 0 0 1 320 0 0 0 empty empty 0 12 6 -15 0 1 0 0 0 0;
#X obj 238 326 else/initmess 120;
#X obj 130 447 else/bl.saw~ -midi, f 12;
#X obj 236 495 else/adsr~ 20 10 0.5 25;
#X msg 227 296 0;
#X text 71 33 You can set the object to take an external trigger with the 'ext' message or flag. In this scenario the object expects bangs to trigger the arpeggiator and change notes. The duration of the notes still depend on the internal BPM \, multiplier and duration settings. Nonetheless \, if the BPM is zero in external mode \, it means that the duration is "infinite"., f 65;
#X text 258 296 infinite duration in external mode;
#X obj 130 388 else/arpeggiator 120 0.75, f 33;
#X obj 152 270 loadbang;
#X text 42 282 trigger;
#X connect 0 0 20 0;
#X connect 1 0 20 1;
#X connect 2 0 20 0;
#X connect 3 0 8 0;
#X connect 4 0 15 0;
#X connect 4 1 16 0;
#X connect 6 0 2 0;
#X connect 7 0 20 0;
#X connect 9 0 20 0;
#X connect 10 0 9 0;
#X connect 11 0 20 2;
#X connect 13 0 11 0;
#X connect 14 0 1 0;
#X connect 15 0 3 0;
#X connect 16 0 3 1;
#X connect 17 0 1 0;
#X connect 20 0 4 0;
#X connect 21 0 10 0;
#X restore 441 274 pd external;
#X obj 437 166 else/arp;
#X text 411 144 abbreviation:;
#X text 154 557 -rev/-alt/-ramdom: sets mode (default up), f 58;
#X text 99 357 <forward/rev/alt/random> -;
#X text 226 572 -sort: sets to sort mode, f 46;
#X text 171 419 sort <float> -;
#X text 262 419 non zero sets to sort mode, f 45;
#X connect 22 0 29 0;
#X connect 25 0 33 1;
#X connect 27 0 33 2;
#X connect 29 0 33 0;
#X connect 31 0 33 0;
#X connect 32 0 31 0;
#X connect 33 0 23 0;
