#N canvas 554 55 561 746 10;
#X obj 2 271 cnv 3 550 3 empty empty inlets 8 12 0 13 #d4d4d4 #000000 0;
#X obj 2 567 cnv 3 550 3 empty empty outlets 8 12 0 13 #dcdcdc #000000 0;
#X obj 2 675 cnv 3 550 3 empty empty arguments 8 12 0 13 #dcdcdc #000000 0;
#X obj 76 594 cnv 17 3 17 empty empty 1 5 9 0 16 #dcdcdc #9c9c9c 0;
#X obj 76 614 cnv 17 3 17 empty empty 2 5 9 0 16 #dcdcdc #9c9c9c 0;
#X obj 76 574 cnv 17 3 17 empty empty 0 5 9 0 16 #dcdcdc #9c9c9c 0;
#X obj 77 279 cnv 17 3 282 empty empty 0 5 9 0 16 #dcdcdc #9c9c9c 0;
#X obj 2 718 cnv 15 552 21 empty empty empty 20 12 0 14 #e0e0e0 #202020 0;
#X text 240 682 -;
#X text 240 698 -;
#X text 178 682 1) symbol;
#X obj 257 177 vradio 15 1 0 2 empty empty empty 0 -8 0 10 #dcdcdc #000000 #000000 0;
#X obj 235 242 print;
#X obj 281 243 nbx 2 14 -1e+37 1e+37 0 0 empty empty empty 0 -8 0 10 #dcdcdc #000000 #000000 0 256;
#X text 273 177 0;
#X text 273 192 1;
#X text 131 575 anything;
#X obj 2 636 cnv 3 550 3 empty empty flags 8 12 0 13 #dcdcdc #000000 0;
#X obj 202 187 bng 18 250 50 0 empty empty empty 17 7 0 10 #dcdcdc #000000 #000000;
#N canvas 732 157 504 468 details 0;
#X obj 187 235 nbx 2 14 -1e+37 1e+37 0 0 empty empty empty 0 -8 0 10 #dcdcdc #000000 #000000 0 256;
#X obj 241 129 loadbang;
#X obj 71 117 hradio 15 1 0 6 empty empty empty 0 -8 0 10 #dcdcdc #000000 #000000 0;
#X obj 71 138 nbx 2 14 0 5 0 0 empty empty empty 0 -8 0 10 #dcdcdc #000000 #000000 0 256;
#N canvas 555 38 707 455 named_coll 0;
#X obj 46 156 loadbang;
#X msg 215 142 dump;
#X msg 233 170 clear;
#X msg 63 249 dump;
#X obj 232 305 nbx 3 14 -1e+37 1e+37 0 0 empty empty empty 0 -8 0 10 #dcdcdc #000000 #000000 0 256;
#X text 276 170 <= clear the data;
#X msg 232 332 store 4 \$1;
#X text 443 52 Important: A [messcoll] object with no name has its own single collection of data \, not shared amongst other [messcoll] objects that also have no names., f 32;
#X msg 476 199 dump;
#X obj 545 327 print address, f 7;
#X obj 502 327 print value, f 5;
#X obj 46 292 else/messcoll example1;
#X f 23;
#C restore;
#X obj 46 325 list prepend;
#X obj 46 355 list trim;
#X msg 46 183 store zero 0 \, store 1 one \, store 2 2 \, store 3 three, f 13;
#X obj 46 382 print address/data;
#X obj 282 233 print key, f 5;
#X obj 215 233 print value, f 5;
#X obj 215 198 else/messcoll example1;
#X f 23;
#C restore;
#X obj 232 364 else/messcoll example1;
#C restore;
#X text 49 73 Below \, the object in the left stores some data that can be viewed and edited by the objects to the right because they all have the same name ('example1').;
#X obj 502 297 else/messcoll;
#X f 15;
#C restore;
#X msg 502 230 set example1;
#X msg 527 264 set example2;
#X text 443 121 The "set" message can refer a [messcoll] object to a data collection of another [messcoll] object with another name., f 32;
#X text 49 22 The same data is shared and accessed/manipulated by other instances of the [messcoll] object if they share the same name (1st symbol argument). They also access the same unique text editing window., f 58;
#X text 304 326 adds value at address 4, f 12;
#X connect 0 0 14 0;
#X connect 1 0 18 0;
#X connect 2 0 18 0;
#X connect 3 0 11 0;
#X connect 4 0 6 0;
#X connect 6 0 19 0;
#X connect 8 0 21 0;
#X connect 11 0 12 0;
#X connect 11 1 12 1;
#X connect 12 0 13 0;
#X connect 13 0 15 0;
#X connect 14 0 11 0;
#X connect 18 0 17 0;
#X connect 18 1 16 0;
#X connect 21 0 10 0;
#X connect 21 1 9 0;
#X connect 22 0 21 0;
#X connect 23 0 21 0;
#X restore 348 228 pd named_coll;
#X msg 115 141 dump;
#X msg 150 142 clear;
#X msg 158 167 show;
#X msg 196 167 hide;
#X msg 25 138 size;
#X text 342 207 More Examples:;
#N canvas 644 246 661 474 store/delete 0;
#X obj 76 150 loadbang;
#X text 137 245 address;
#X symbolatom 264 298 7 0 0 0 - - - 0;
#X floatatom 113 246 3 0 0 0 - - - 0;
#X text 42 245 data;
#X obj 256 243 bng 19 250 50 0 empty empty empty 17 7 0 10 #dcdcdc #000000 #000000;
#X obj 452 112 loadbang;
#X msg 412 194 dump;
#X msg 511 266 1;
#X obj 227 93 loadbang;
#X msg 76 176 store -1 23 \, store -1 10, f 12;
#X msg 499 245 symbol note;
#X obj 227 274 else/messcoll;
#C restore;
#X text 316 298 address;
#X msg 244 169 symbol gain;
#X msg 255 191 symbol filter;
#X symbolatom 244 215 7 0 0 0 - - - 0;
#X obj 227 352 print messages;
#X obj 264 322 print key -->;
#X obj 76 220 else/messcoll;
#C restore;
#X obj 45 180 bng 19 250 50 0 empty empty empty 0 -8 0 10 #dfdfdf #000000 #000000;
#X text 293 214 address;
#X obj 452 330 else/messcoll;
#C restore;
#X listbox 499 298 6 0 0 0 - - - 0;
#X obj 489 356 print address;
#X obj 452 387 print data;
#X msg 227 118 store gain 0.5 db \, list filter hz 440 \\\, q 50, f 18;
#X text 28 15 You can use the "store" message to store data at a given float or symbol address as the first element. Note that storing to an existing address updates/replaces it! A list message also acts like a store message \, where the first element is the address., f 56;
#X msg 452 137 store 1 0.1 \, 2 3 \, list velocity 127 \, store note 60, f 19;
#X text 155 187 rewrite;
#X floatatom 76 244 3 0 0 0 - - - 0;
#X msg 480 189 delete 1;
#X msg 494 213 delete note;
#X text 66 392 You can store multiple messages split by a comma (which need to be escaped). In this case \, the address is only output once and the two or more messages are output at the leftmost outlet., f 49;
#X text 426 44 Use the rdelete message with an address to remove it with its data., f 25;
#X connect 0 0 10 0;
#X connect 2 0 18 0;
#X connect 5 0 12 0;
#X connect 6 0 28 0;
#X connect 7 0 22 0;
#X connect 8 0 23 0;
#X connect 9 0 26 0;
#X connect 10 0 19 0;
#X connect 11 0 23 0;
#X connect 12 0 17 0;
#X connect 12 1 2 0;
#X connect 14 0 16 0;
#X connect 15 0 16 0;
#X connect 16 0 12 0;
#X connect 19 0 30 0;
#X connect 19 1 3 0;
#X connect 20 0 19 0;
#X connect 22 0 25 0;
#X connect 22 1 24 0;
#X connect 23 0 22 0;
#X connect 26 0 12 0;
#X connect 28 0 22 0;
#X connect 31 0 22 0;
#X connect 32 0 22 0;
#X restore 336 280 pd store/delete;
#X obj 150 275 else/display;
#N canvas 641 370 638 264 keep 0;
#X msg 111 92 dump;
#X text 190 199 print address/data;
#X text 148 91 <= check Pd window;
#X obj 415 134 tgl 19 0 empty empty empty 17 7 0 10 #dcdcdc #000000 #000000 0 1;
#X obj 88 164 list prepend;
#X obj 88 198 print embedded;
#X msg 415 167 keep \$1;
#X text 42 20 By default \, the contents of [messcoll] are not saved as part of the patch \, but you can change that with the "-k" (short for 'keep') flag., f 47;
#X obj 111 134 else/messcoll -k;
#C store 1 2;
#C store 2 3;
#C keep 1;
#C restore;
#X text 440 129 non-zero saves with the patch, f 14;
#X obj 415 200 else/messcoll;
#C restore;
#X text 351 21 You can also set [messcoll] to store its contents with the 'keep' message. This status remains when reopening and resaving the patch of course. Note that changing the data collection is not enough \, you have to save the patch! If you have 'keep' enabled \, the patch asks you to save if contents changed anyway., f 40;
#X connect 0 0 8 0;
#X connect 3 0 6 0;
#X connect 4 0 5 0;
#X connect 6 0 10 0;
#X connect 8 0 4 0;
#X connect 8 1 4 1;
#X restore 384 301 pd keep;
#X text 165 116 address;
#X msg 241 153 store 0 0.1 \, store 1 1 2 \\\, 3 4 \, store 2 list one two \, store 3 symbol hey \, store 4 ho \, store 5 let's go, f 36;
#X text 51 16 In [messcoll] \, messages are stored with a given key \, which can be either float (as a positive integer) or a symbol. You can store multiple messages split by a comma. The first element of a "store" message sets the address and it is shown in the edit window split by a comma. You can store multiple messages split by a comma (these need to be escaped in a 'store' message)., f 62;
#X obj 150 201 else/messcoll;
#C restore;
#X obj 150 305 print messages;
#X obj 187 259 print address -->;
#X text 37 201 click to edit -->;
#X text 79 379 You can visualize and manually edit the data by clicking on the object to open its editing window - the "show" and "hide" messages can also open/close this window. You can type in or delete data \, then close it and save it. The format for each line is: address \, message \, more optional messages \;, f 61;
#N canvas 541 202 755 452 read/write 0;
#X msg 89 137 next;
#X obj 116 324 nbx 3 14 -1e+37 1e+37 0 0 empty empty empty 0 -8 0 10 #dcdcdc #000000 #000000 0 256;
#X msg 116 170 read;
#X obj 219 324 nbx 3 14 -1e+37 1e+37 0 0 empty empty empty 0 -8 0 10 #dcdcdc #000000 #000000 0 256;
#X msg 155 225 write;
#X obj 49 137 bng 18 250 50 0 empty empty empty 17 7 0 10 #dcdcdc #000000 #000000;
#X text 69 136 or;
#X text 247 197 opens file;
#X text 148 170 opens dialog window to open file;
#X text 197 224 opens dialog window to save;
#X text 278 251 saves to file;
#X msg 595 332 next;
#X msg 588 306 prev;
#X obj 555 398 nbx 3 14 -1e+37 1e+37 0 0 empty empty empty 0 -8 0 10 #dcdcdc #000000 #000000 0 256;
#X obj 619 398 nbx 3 14 -1e+37 1e+37 0 0 empty empty empty 0 -8 0 10 #dcdcdc #000000 #000000 0 256;
#X msg 523 231 goto 50;
#X msg 555 258 start;
#X msg 574 282 end;
#N canvas 728 202 514 545 threaded 0;
#X obj 71 220 osc~ 440;
#X obj 201 132 bng 20 250 50 0 empty empty empty 17 7 0 10 #dcdcdc #000000 #000000;
#X text 357 308 finished;
#X text 79 131 2) click and check;
#X text 33 185 1) raise the volume;
#X obj 228 312 timer;
#N canvas 909 198 495 472 depth-first 0;
#X msg 48 150 threaded \$1;
#X obj 48 122 tgl 20 0 empty empty empty 17 7 0 10 #dcdcdc #000000 #000000 0 1;
#X obj 144 85 bng 25 250 50 0 empty empty empty 17 7 0 10 #dcdcdc #000000 #000000;
#X obj 220 283 bng 15 250 50 0 empty empty empty 17 7 0 10 #dcdcdc #000000 #000000;
#X msg 220 318 2;
#X obj 220 372 print;
#X obj 144 151 trigger bang anything bang;
#X obj 297 283 bng 15 250 50 0 empty empty empty 17 7 0 10 #dcdcdc #000000 #000000;
#X obj 144 283 bng 15 250 50 0 empty empty empty 17 7 0 10 #dcdcdc #000000 #000000;
#X text 173 90 <= click and check the printed order;
#X text 42 102 try in both;
#X text 78 122 modes;
#X text 61 17 Unthreaded mode always provide the depth first behaviour \, meaning that the print order below is "1 \, 2 \, 3". The threaded mode breaks it for the read and dump operations \, printing: "1 \, 3 \, 2" isntead.;
#X msg 144 318 3;
#X msg 297 316 ===== \, 1;
#X text 77 410 One way or another \, if an action is needed right after reading \, you can rely on the bang from the outlet.;
#X msg 144 122 read messcoll_big.txt;
#X obj 170 193 else/messcoll depth-first;
#X f 13;
#C restore;
#X obj 220 246 route doneread, f 8;
#X connect 0 0 17 0;
#X connect 1 0 0 0;
#X connect 2 0 16 0;
#X connect 3 0 4 0;
#X connect 4 0 5 0;
#X connect 6 0 8 0;
#X connect 6 1 17 0;
#X connect 6 2 7 0;
#X connect 7 0 14 0;
#X connect 8 0 13 0;
#X connect 13 0 5 0;
#X connect 14 0 5 0;
#X connect 16 0 6 0;
#X connect 17 2 18 0;
#X connect 18 0 3 0;
#X restore 320 504 pd depth-first;
#X text 63 448 An important difference is that the threaded version breaks the depth first rule \, while unthreaded keeps it (but at the cost of causing potential audio drop outs).;
#X text 85 504 Check the subpatch for more info ===>;
#X msg 388 207 threaded \$1;
#X obj 388 177 tgl 20 0 empty empty empty 17 7 0 10 #dcdcdc #000000 #000000 0 1;
#X text 385 157 try in both;
#X text 421 174 modes;
#X obj 201 167 t b b;
#X obj 71 265 out~;
#X text 61 82 Below \, [messcoll] loads 300 thousand entries from a file \, which would cause an audio drop out if not in threaded mode.;
#X text 124 410 Note that the dump method is not threaded!;
#X obj 241 239 else/messcoll -t threaded_test;
#X f 16;
#C restore;
#X msg 241 200 read messcoll_big.txt;
#X text 61 20 There's a threaded option to allow the read operation to run in a separate thread \, preventing audio drop outs! This also means you have to rely on the bang from the 3rd outlets to know the operation has been completed. Set to threaded mode with the '-t' flag or threaded message.;
#X obj 334 271 route doneread, f 8;
#X obj 334 305 bng 20 250 50 0 empty empty empty 17 7 0 10 #dcdcdc #000000 #000000;
#X text 212 361 time to read the file in ms, f 14;
#X floatatom 228 340 7 0 0 0 - - - 0;
#X connect 0 0 14 0;
#X connect 1 0 13 0;
#X connect 5 0 23 0;
#X connect 9 0 17 0;
#X connect 10 0 9 0;
#X connect 13 0 18 0;
#X connect 13 1 5 0;
#X connect 17 2 20 0;
#X connect 18 0 17 0;
#X connect 20 0 5 1;
#X connect 20 0 21 0;
#X restore 183 400 pd threaded;
#X text 95 380 The read operation can be threaded see:, f 25;
#X msg 136 198 read messcoll.txt;
#X msg 163 251 write messcoll.txt;
#X text 36 283 shift+click to open --->, f 12;
#X text 335 292 <-- to save;
#X text 347 278 alt+click;
#X obj 323 358 route doneread;
#X obj 323 385 bng 19 250 50 0 empty empty empty 0 -8 0 10 #dfdfdf #000000 #000000;
#X obj 323 324 else/display;
#X obj 116 294 else/messcoll example2 messcoll.txt;
#C restore;
#X obj 555 368 else/messcoll example2;
#C restore;
#X text 42 19 You can use the 2nd argument to specify a filename to load data when instantiated. The read/write messages allow you to read/write from and to other files where no filename symbols open dialog windows to read/save. Clicking on the object while pressing the shift key also opens a dialog window to read a file \, while alt+click opens a saving dialog window. Sucessfully reading a file outputs "doneread" at the rightmost outlet., f 58;
#X text 418 32 The basic navigation through [messcoll]'s data is with the "next" (same as a bang) or "prev" messages that \, respectively \, go to the next and the previous address. Note that it loops when reaching boundaries., f 52;
#X floatatom 475 232 5 0 0 0 - - - 0;
#X text 418 94 The pointer to the address is set for all [messcoll] objects with the same name. So navigating in the object to the left affects the navigation of the object below. Acessing an address with a float or symbol message doesn't set the navigation point. The "goto <address>" message sets the pointer to an address but doesn't output it \, "start" goes to the first address \, "end" goes to the last one. After using any of these messages to set the navigation point \, 'prev' or 'next' (and bang) outputs it., f 52;
#X connect 0 0 28 0;
#X connect 2 0 28 0;
#X connect 4 0 28 0;
#X connect 5 0 28 0;
#X connect 11 0 29 0;
#X connect 12 0 29 0;
#X connect 15 0 29 0;
#X connect 16 0 29 0;
#X connect 17 0 29 0;
#X connect 20 0 28 0;
#X connect 21 0 28 0;
#X connect 25 0 26 0;
#X connect 27 0 25 0;
#X connect 28 0 1 0;
#X connect 28 1 3 0;
#X connect 28 2 27 0;
#X connect 29 0 13 0;
#X connect 29 1 14 0;
#X connect 32 0 29 0;
#X restore 342 248 pd read/write \; navigation;
#X text 79 340 A "dump" message spits all stored data. The "clear" message clears all data. The size message reports the number of keys at the rightmost outlet., f 61;
#X obj 225 223 else/display;
#X connect 0 0 19 0;
#X connect 1 0 15 0;
#X connect 2 0 3 0;
#X connect 3 0 17 0;
#X connect 5 0 17 0;
#X connect 6 0 17 0;
#X connect 7 0 17 0;
#X connect 8 0 17 0;
#X connect 9 0 17 0;
#X connect 12 0 18 0;
#X connect 15 0 17 0;
#X connect 17 0 12 0;
#X connect 17 1 0 0;
#X connect 17 2 24 0;
#X restore 464 233 pd details;
#X text 106 596 float/symbol;
#X text 52 92 Store/edit message collections with associated keys.;
#X text 252 698 filename to load, f 22;
#X text 178 698 2) symbol;
#X obj 2 10 cnv 15 301 42 empty empty messcoll 20 20 2 37 #e0e0e0 #000000 0;
#N canvas 0 22 450 278 (subpatch) 0;
#X coords 0 1 100 -1 302 42 1;
#X restore 2 10 graph;
#X obj 23 47 cnv 4 4 4 empty empty Collection\ of\ messages\ accessed\ via\ keys 0 28 2 18 #e0e0e0 #000000 0;
#X obj 306 11 cnv 15 250 40 empty empty empty 12 13 0 18 #7c7c7c #e0e4dc 0;
#N canvas 382 141 749 319 (subpatch) 0;
#X coords 0 -1 1 1 252 42 2 100 100;
#X restore 305 10 pd;
#X obj 345 18 cnv 10 10 10 empty empty ELSE 0 15 2 30 #7c7c7c #e0e4dc 0;
#X obj 458 18 cnv 10 10 10 empty empty EL 0 6 2 13 #7c7c7c #e0e4dc 0;
#X obj 478 18 cnv 10 10 10 empty empty Locus 0 6 2 13 #7c7c7c #e0e4dc 0;
#X obj 515 18 cnv 10 10 10 empty empty Solus' 0 6 2 13 #7c7c7c #e0e4dc 0;
#X obj 464 33 cnv 10 10 10 empty empty ELSE 0 6 2 13 #7c7c7c #e0e4dc 0;
#X obj 502 33 cnv 10 10 10 empty empty library 0 6 2 13 #7c7c7c #e0e4dc 0;
#X text 179 420 next -;
#X text 179 406 prev -;
#X text 125 477 read <symbol> -;
#X text 173 434 start -;
#X text 119 491 write <symbol> -;
#X text 224 420 same as bang: outputs next address and its data, f 49;
#X text 224 406 outputs previous address and its data, f 49;
#X text 224 462 sends number of stored values to the left outlet, f 49;
#X text 224 434 sets the pointer to the first entry/address, f 49;
#X text 179 378 dump -;
#X text 173 364 clear -;
#X text 185 448 end -;
#X text 224 448 sets the pointer to the last entry/address, f 49;
#X text 224 364 delete all data, f 49;
#X text 131 534 keep <float> -;
#X text 179 505 show -;
#X text 179 519 hide -;
#X text 179 463 size -;
#X text 224 378 dumps all values (1st outlet) and addresses (2nd);
#X text 107 548 threaded <float> -;
#X text 224 548 non zero sets to threaded mode, f 49;
#X text 224 534 non zero sets to save contents with the patch, f 49;
#X text 224 477 read a file (no symbol opens dialog window), f 49;
#X text 224 491 save a file (no symbol opens dialog window), f 49;
#X text 224 505 open editing window, f 49;
#X text 224 520 closes editing window, f 49;
#X text 252 682 object name to bind to;
#X obj 235 217 else/messcoll;
#X f 16;
#C restore;
#X text 101 321 store <atom \, any> -;
#X text 137 392 goto <atom> -;
#X text 224 392 goto an address (without output), f 49;
#X text 186 596 - integer or symbol atom address of the stored message;
#X text 344 126 store at address "0";
#X text 346 151 store at address "1";
#X text 111 131 click messages to store data -------->, f 20;
#X text 62 188 go to next address -->;
#X text 47 217 click to open text window -->;
#X text 137 243 stored data -->;
#X text 313 243 <-- address;
#X text 288 183 <-- recall data from address;
#X text 89 306 atom (float/symbol) -;
#X text 179 291 list -;
#X text 179 276 bang -;
#X text 224 276 outputs current/next address and its data, f 49;
#X text 224 291 store address (1st element) and message (others), f 49;
#X text 224 321 store address (1st element) and message, f 49;
#X text 224 306 set address atom and output it and its data, f 49;
#X msg 235 127 0 500 1000 \\\, hi;
#X msg 244 151 1 5 10 \\\, hello;
#X text 130 614 anything;
#X text 186 614 - information output;
#X text 224 350 set name to access data from another [messcoll], f 49;
#X text 131 350 set <symbol> -;
#X text 187 575 - the stored message(s) at a given address;
#X text 171 657 -t: threaded mode for reading operation;
#X text 153 642 -keep: saves contents with the patch, f 42;
#X text 125 336 delete <atom> -;
#X text 224 336 delete address and its data, f 49;
#X connect 11 0 62 0;
#X connect 18 0 62 0;
#X connect 62 0 12 0;
#X connect 62 1 13 0;
#X connect 82 0 62 0;
#X connect 83 0 62 0;
