#N canvas 463 50 973 728 12;
#X declare -path else;
#N canvas 122 91 603 581 Z-Plane-biquad 0;
#X obj 101 101 cnv 15 450 450 empty empty empty 20 12 1 14 -191407
-66577 0;
#X obj 176 176 bng 300 1000 1000 0 \$0-bng \$0-bng-set empty 17 7 0
10 -191407 -245500 -1;
#N canvas 0 22 450 300 (subpatch) 0;
#X coords 0 1 100 -1 75 75 1;
#X restore 101 101 graph;
#N canvas 0 22 450 300 (subpatch) 0;
#X coords 0 1 100 -1 75 75 1;
#X restore 176 101 graph;
#N canvas 0 22 450 300 (subpatch) 0;
#X coords 0 1 100 -1 75 75 1;
#X restore 251 101 graph;
#N canvas 0 22 450 300 (subpatch) 0;
#X coords 0 1 100 -1 75 75 1;
#X restore 326 101 graph;
#N canvas 0 22 450 300 (subpatch) 0;
#X coords 0 1 100 -1 75 75 1;
#X restore 401 101 graph;
#N canvas 0 22 450 300 (subpatch) 0;
#X coords 0 1 100 -1 75 75 1;
#X restore 476 101 graph;
#N canvas 0 22 450 300 (subpatch) 0;
#X coords 0 1 100 -1 75 75 1;
#X restore 101 176 graph;
#N canvas 0 22 450 300 (subpatch) 0;
#X coords 0 1 100 -1 75 75 1;
#X restore 176 176 graph;
#N canvas 0 22 450 300 (subpatch) 0;
#X coords 0 1 100 -1 75 75 1;
#X restore 251 176 graph;
#N canvas 0 22 450 300 (subpatch) 0;
#X coords 0 1 100 -1 75 75 1;
#X restore 326 176 graph;
#N canvas 0 22 450 300 (subpatch) 0;
#X coords 0 1 100 -1 75 75 1;
#X restore 401 176 graph;
#N canvas 0 22 450 300 (subpatch) 0;
#X coords 0 1 100 -1 75 75 1;
#X restore 476 176 graph;
#N canvas 0 22 450 300 (subpatch) 0;
#X coords 0 1 100 -1 75 75 1;
#X restore 101 251 graph;
#N canvas 0 22 450 300 (subpatch) 0;
#X coords 0 1 100 -1 75 75 1;
#X restore 176 251 graph;
#N canvas 0 22 450 300 (subpatch) 0;
#X coords 0 1 100 -1 75 75 1;
#X restore 251 251 graph;
#N canvas 0 22 450 300 (subpatch) 0;
#X coords 0 1 100 -1 75 75 1;
#X restore 326 251 graph;
#N canvas 0 22 450 300 (subpatch) 0;
#X coords 0 1 100 -1 75 75 1;
#X restore 401 251 graph;
#N canvas 0 22 450 300 (subpatch) 0;
#X coords 0 1 100 -1 75 75 1;
#X restore 476 251 graph;
#N canvas 0 22 450 300 (subpatch) 0;
#X coords 0 1 100 -1 75 75 1;
#X restore 101 326 graph;
#N canvas 0 22 450 300 (subpatch) 0;
#X coords 0 1 100 -1 75 75 1;
#X restore 176 326 graph;
#N canvas 0 22 450 300 (subpatch) 0;
#X coords 0 1 100 -1 75 75 1;
#X restore 251 326 graph;
#N canvas 0 22 450 300 (subpatch) 0;
#X coords 0 1 100 -1 75 75 1;
#X restore 326 326 graph;
#N canvas 0 22 450 300 (subpatch) 0;
#X coords 0 1 100 -1 75 75 1;
#X restore 401 326 graph;
#N canvas 0 22 450 300 (subpatch) 0;
#X coords 0 1 100 -1 75 75 1;
#X restore 476 326 graph;
#N canvas 0 22 450 300 (subpatch) 0;
#X coords 0 1 100 -1 75 75 1;
#X restore 101 401 graph;
#N canvas 0 22 450 300 (subpatch) 0;
#X coords 0 1 100 -1 75 75 1;
#X restore 176 401 graph;
#N canvas 0 22 450 300 (subpatch) 0;
#X coords 0 1 100 -1 75 75 1;
#X restore 251 401 graph;
#N canvas 0 22 450 300 (subpatch) 0;
#X coords 0 1 100 -1 75 75 1;
#X restore 326 401 graph;
#N canvas 0 22 450 300 (subpatch) 0;
#X coords 0 1 100 -1 75 75 1;
#X restore 401 401 graph;
#N canvas 0 22 450 300 (subpatch) 0;
#X coords 0 1 100 -1 75 75 1;
#X restore 476 401 graph;
#N canvas 0 22 450 300 (subpatch) 0;
#X coords 0 1 100 -1 75 75 1;
#X restore 101 476 graph;
#N canvas 0 22 450 300 (subpatch) 0;
#X coords 0 1 100 -1 75 75 1;
#X restore 176 476 graph;
#N canvas 0 22 450 300 (subpatch) 0;
#X coords 0 1 100 -1 75 75 1;
#X restore 251 476 graph;
#N canvas 0 22 450 300 (subpatch) 0;
#X coords 0 1 100 -1 75 75 1;
#X restore 326 476 graph;
#N canvas 0 22 450 300 (subpatch) 0;
#X coords 0 1 100 -1 75 75 1;
#X restore 401 476 graph;
#N canvas 0 22 450 300 (subpatch) 0;
#X coords 0 1 100 -1 75 75 1;
#X restore 476 476 graph;
#X obj 325 101 cnv 1 2 450 empty empty empty 20 12 0 14 -258113 -66577
0;
#X obj 100 325 cnv 1 450 2 empty empty empty 20 12 0 14 -258113 -66577
0;
#X obj 177 177 cnv 15 15 15 empty \$0-pole1 X 295 150 0 14 -191407
-66577 0;
#X obj 177 177 cnv 15 15 15 empty \$0-zero1 empty 145 150 0 14 -191407
-66577 0;
#X obj 177 177 cnv 15 15 15 empty \$0-pole2 X 295 150 0 14 -191407
-66577 0;
#X obj 177 177 cnv 15 15 15 empty \$0-zero2 empty 145 150 0 14 -191407
-66577 0;
#N canvas 576 25 310 167 z-plane 0;
#X obj 36 34 r \$0-coeficientes;
#N canvas 502 195 417 257 find_poles 0;
#X obj 36 182 outlet;
#X obj 48 155 outlet;
#X obj 106 186 outlet;
#X obj 109 161 outlet;
#X obj 36 10 inlet;
#N canvas 256 22 607 380 Poles 0;
#X obj 62 21 inlet;
#X text 67 324 polo 1;
#X text 106 20 a1 a2 b0 b1 b2;
#X text 177 324 polo 2;
#X obj 416 133 v kIm_\$0;
#X obj 197 135 v kRe_\$0;
#X obj 70 280 outlet;
#X obj 62 304 outlet;
#X obj 180 280 outlet;
#X obj 172 304 outlet;
#X obj 197 91 expr if($f1 >= 0 \, sqrt(abs($f1)) \, 0) \; if($f1 <
0 \, sqrt(abs($f1)) \, 0);
#X obj 62 203 expr ($f1 + kRe_\$0) / 2 \; kIm_\$0 / 2 \; ($f1 - kRe_\$0)
/ 2 \; 0 - kIm_\$0 / 2;
#X obj 62 50 expr $f1 \; pow($f1 \, 2) + (4 * $f2);
#X connect 0 0 12 0;
#X connect 10 0 5 0;
#X connect 10 1 4 0;
#X connect 11 0 7 0;
#X connect 11 1 6 0;
#X connect 11 2 9 0;
#X connect 11 3 8 0;
#X connect 12 0 11 0;
#X connect 12 1 10 0;
#X restore 36 63 pd Poles;
#X connect 4 0 5 0;
#X connect 5 0 0 0;
#X connect 5 1 1 0;
#X connect 5 2 2 0;
#X connect 5 3 3 0;
#X restore 36 70 pd find_poles;
#N canvas 349 405 466 198 plot 0;
#X obj 37 44 inlet;
#X obj 88 44 inlet;
#X obj 138 44 inlet;
#X obj 189 43 inlet;
#N canvas 149 34 1099 643 Poles 0;
#X obj 183 305 s \$0-pole1;
#X obj 183 251 pack;
#X msg 183 277 label_pos \$1 \$2;
#X obj 183 165 * 150;
#X obj 180 197 + 150;
#X obj 238 214 + 150;
#X obj 177 224 - 5;
#X obj 190 58 inlet;
#X obj 265 57 inlet;
#X obj 311 88 r \$0-P1-im;
#X obj 61 104 r \$0-P1-re;
#X obj 231 169 * -150;
#X msg 387 364 set \$1;
#X obj 387 388 s \$0-p1-sl-set;
#X obj 805 256 pack;
#X msg 805 282 label_pos \$1 \$2;
#X obj 805 170 * 150;
#X obj 802 202 + 150;
#X obj 860 219 + 150;
#X obj 799 229 - 5;
#X obj 812 63 inlet;
#X obj 887 62 inlet;
#X obj 853 174 * -150;
#X obj 805 310 s \$0-pole2;
#X obj 683 109 r \$0-P2-re;
#X obj 933 93 r \$0-P2-im;
#X msg 671 364 set \$1;
#X obj 651 392 s \$0-p2-sl-set;
#X obj 520 193 ==;
#X obj 338 293 expr if ($f1 == $f3 \, sqrt($f1*$f1 + $f2*$f2) \, ($f1
/ 2) + 0.5) \; if ($f1 == $f3 \, atan2($f2 \, $f1) / pi_\$0 \, ($f3
/ 2) + 0.5) \;;
#X obj 520 215 s \$0-pair_p-set;
#X obj 854 384 expr $f1 == 0 && $f2 == 0;
#X obj 846 414 sel 1 0;
#X msg 817 445 label;
#X msg 871 445 label X;
#X obj 885 498 s \$0-pole2;
#X connect 1 0 2 0;
#X connect 2 0 0 0;
#X connect 3 0 4 0;
#X connect 4 0 6 0;
#X connect 5 0 1 1;
#X connect 6 0 1 0;
#X connect 7 0 3 0;
#X connect 7 0 28 0;
#X connect 7 0 29 0;
#X connect 8 0 11 0;
#X connect 8 0 29 1;
#X connect 9 0 11 0;
#X connect 10 0 3 0;
#X connect 11 0 5 0;
#X connect 12 0 13 0;
#X connect 14 0 15 0;
#X connect 15 0 23 0;
#X connect 16 0 17 0;
#X connect 17 0 19 0;
#X connect 18 0 14 1;
#X connect 19 0 14 0;
#X connect 20 0 16 0;
#X connect 20 0 28 1;
#X connect 20 0 29 2;
#X connect 20 0 31 0;
#X connect 21 0 22 0;
#X connect 21 0 31 1;
#X connect 22 0 18 0;
#X connect 24 0 16 0;
#X connect 25 0 22 0;
#X connect 26 0 27 0;
#X connect 28 0 30 0;
#X connect 29 0 12 0;
#X connect 29 1 26 0;
#X connect 31 0 32 0;
#X connect 32 0 33 0;
#X connect 32 1 34 0;
#X connect 33 0 35 0;
#X connect 34 0 35 0;
#X restore 93 98 pd Poles;
#N canvas 14 68 1299 625 GUI 0;
#X obj 117 211 s \$0-P1-im;
#X obj 6 211 s \$0-P1-re;
#X obj 228 211 s \$0-P2-re;
#X obj 339 211 s \$0-P2-im;
#X obj 924 205 s \$0-Z2-im;
#X obj 813 205 s \$0-Z2-re;
#X obj 702 205 s \$0-Z1-im;
#X obj 591 205 s \$0-Z1-re;
#X obj 591 122 expr if (z_pair_\$0 == 1 \, cos($f2 * pi_\$0) * $f1
\, $f1 *2 -1) \; if (z_pair_\$0 == 1 \, sin($f2 * pi_\$0) * $f1 \,
0) \; if (z_pair_\$0 == 1 \, cos($f2 * pi_\$0) * $f1 \, $f2 * 2 -1)
\; if (z_pair_\$0 == 1 \, sin($f2 * pi_\$0) * -$f1 \, 0);
#X obj 6 131 expr if (p_pair_\$0 == 1 \, cos($f2 * pi_\$0) * $f1 \,
$f1 *2 -1) \; if (p_pair_\$0 == 1 \, sin($f2 * pi_\$0) * $f1 \, 0)
\; if (p_pair_\$0 == 1 \, cos($f2 * pi_\$0) * $f1 \, $f2 * 2 -1) \;
if (p_pair_\$0 == 1 \, sin($f2 * pi_\$0) * -$f1 \, 0);
#X obj 486 205 s \$0-coef;
#X obj 234 73 trigger bang float;
#X obj 234 45 r \$0-p2-sl;
#X obj 6 104 r \$0-p1-sl;
#X obj 234 101 s \$0-p1-sl-set;
#X obj 1073 156 s \$0-bng-set;
#X obj 1073 106 tgl 15 0 empty empty empty 17 7 0 10 -1 -262144 -1
1 1;
#X obj 1073 130 metro 1000;
#X obj 1073 81 loadbang;
#X obj 486 67 r \$0-z1-sl;
#X obj 819 65 trigger bang float;
#X obj 819 37 r \$0-z2-sl;
#X obj 819 93 s \$0-z1-sl-set;
#X obj 486 92 trigger bang float;
#X obj 363 62 r \$0-p2-sl-set;
#X obj 363 85 route set;
#X obj 952 73 route set;
#X obj 952 50 r \$0-z2-sl-set;
#X obj 1004 314 v z_pair_\$0;
#X obj 898 309 v p_pair_\$0;
#X obj 895 274 r \$0-pair_p;
#X obj 1013 271 r \$0-pair_z;
#X obj 629 319 unpack;
#X obj 671 366 s \$0-z2-sl-set;
#X msg 671 344 set \$1;
#X obj 631 449 s \$0-z1-sl-set;
#X msg 629 292 1 \$1;
#X obj 627 365 t f f;
#X obj 678 406 s \$0-pair_z-set;
#X msg 517 397 -1 1 0;
#X obj 517 433 unpack f f f;
#X obj 547 496 s \$0-z2-sl-set;
#X msg 547 474 set \$1;
#X obj 523 542 s \$0-z1-sl-set;
#X obj 465 264 r \$0-type;
#X obj 381 303 sel 3 2;
#X msg 424 378 1;
#X obj 400 527 s \$0-z1-sl-set;
#X obj 418 488 s \$0-pair_z-set;
#X obj 259 428 spigot;
#X msg 350 374 0;
#X obj 354 405 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj 284 458 f;
#X obj 385 430 t f b f;
#X obj 286 533 s \$0-z2-sl-set;
#X msg 305 502 set \$1;
#X floatatom 492 324 5 0 0 0 - - -;
#X obj 795 459 s \$0-p1-sl-set;
#X msg 828 429 label amp;
#X msg 815 403 label amp_1;
#X msg 953 435 label angle;
#X msg 915 412 label amp_2;
#X obj 920 465 s \$0-p2-sl-set;
#X obj 868 336 sel 0 1;
#X msg 1067 440 label amp;
#X msg 1054 414 label amp_1;
#X msg 1192 446 label angle;
#X msg 1154 423 label amp_2;
#X obj 1107 347 sel 0 1;
#X obj 1034 470 s \$0-z1-sl-set;
#X obj 1159 476 s \$0-z2-sl-set;
#X obj 1166 114 expr atan(1) * 4;
#X obj 1166 145 v pi_\$0;
#X obj 447 327 sel 4;
#X obj 506 364 s \$0-reset;
#X obj 683 490 r \$0-reset;
#X msg 683 513 0.5;
#X obj 688 536 t f f;
#X msg 735 527 0;
#X obj 686 564 t f f;
#X obj 782 543 s \$0-pair_p-set;
#X msg 730 312 set \$1;
#X obj 730 334 s \$0-p2-sl-set;
#X obj 683 590 s \$0-p1-sl-set;
#X connect 8 0 7 0;
#X connect 8 1 6 0;
#X connect 8 2 5 0;
#X connect 8 3 4 0;
#X connect 9 0 1 0;
#X connect 9 1 0 0;
#X connect 9 2 2 0;
#X connect 9 3 3 0;
#X connect 11 0 14 0;
#X connect 11 1 9 1;
#X connect 11 1 49 0;
#X connect 11 1 52 1;
#X connect 12 0 11 0;
#X connect 13 0 9 0;
#X connect 16 0 17 0;
#X connect 17 0 15 0;
#X connect 18 0 16 0;
#X connect 18 0 71 0;
#X connect 19 0 23 0;
#X connect 20 0 22 0;
#X connect 20 1 8 1;
#X connect 21 0 20 0;
#X connect 23 0 10 0;
#X connect 23 1 8 0;
#X connect 24 0 25 0;
#X connect 25 0 9 1;
#X connect 26 0 8 1;
#X connect 27 0 26 0;
#X connect 30 0 29 0;
#X connect 30 0 63 0;
#X connect 31 0 28 0;
#X connect 31 0 68 0;
#X connect 32 0 37 0;
#X connect 32 1 34 0;
#X connect 34 0 33 0;
#X connect 36 0 32 0;
#X connect 37 0 35 0;
#X connect 37 1 38 0;
#X connect 39 0 40 0;
#X connect 40 0 43 0;
#X connect 40 1 42 0;
#X connect 40 2 38 0;
#X connect 42 0 41 0;
#X connect 44 0 45 0;
#X connect 44 0 56 0;
#X connect 45 0 46 0;
#X connect 45 1 39 0;
#X connect 45 1 50 0;
#X connect 45 2 36 0;
#X connect 45 2 50 0;
#X connect 45 2 73 0;
#X connect 46 0 53 0;
#X connect 46 0 51 0;
#X connect 49 0 54 0;
#X connect 50 0 51 0;
#X connect 51 0 49 1;
#X connect 52 0 55 0;
#X connect 53 0 47 0;
#X connect 53 1 52 0;
#X connect 53 2 48 0;
#X connect 55 0 54 0;
#X connect 58 0 57 0;
#X connect 59 0 57 0;
#X connect 60 0 62 0;
#X connect 61 0 62 0;
#X connect 63 0 59 0;
#X connect 63 0 61 0;
#X connect 63 1 58 0;
#X connect 63 1 60 0;
#X connect 64 0 69 0;
#X connect 65 0 69 0;
#X connect 66 0 70 0;
#X connect 67 0 70 0;
#X connect 68 0 65 0;
#X connect 68 0 67 0;
#X connect 68 1 64 0;
#X connect 68 1 66 0;
#X connect 71 0 72 0;
#X connect 73 0 74 0;
#X connect 75 0 76 0;
#X connect 76 0 77 0;
#X connect 77 0 79 0;
#X connect 77 1 34 0;
#X connect 77 1 78 0;
#X connect 77 1 81 0;
#X connect 78 0 38 0;
#X connect 78 0 80 0;
#X connect 79 0 83 0;
#X connect 79 1 35 0;
#X connect 81 0 82 0;
#X restore 248 86 pd GUI;
#X connect 0 0 4 0;
#X connect 1 0 4 1;
#X connect 2 0 4 2;
#X connect 3 0 4 3;
#X restore 36 100 pd plot;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 1 1 2 1;
#X connect 1 2 2 2;
#X connect 1 3 2 3;
#X restore 191 67 pd z-plane;
#X coords 0 -1 1 1 452 452 2 100 100;
#X restore 485 221 pd Z-Plane-biquad;
#X obj 109 575 cpole~;
#X obj 135 605 cpole~;
#X obj 109 531 *~;
#X obj 68 500 noise~;
#X obj 282 129 nbx 5 14 1 100 1 0 \$0-Q \$0-q_set empty 0 -8 0 10 -228856
-1 -1 1 256;
#X floatatom 302 184 0 0 0 0 - - -;
#X floatatom 231 184 0 0 0 0 - - -;
#X floatatom 160 184 0 0 0 0 - - -;
#X floatatom 247 562 0 0 0 0 - - -;
#X floatatom 215 561 0 0 0 0 - - -;
#X floatatom 175 531 0 0 0 0 - - -;
#X floatatom 144 531 0 0 0 0 - - -;
#X obj 302 215 v g;
#X msg 127 471 \$3;
#X obj 228 257 noise~;
#X obj 160 212 v a1;
#X obj 231 212 v a2;
#X obj 85 247 noise~;
#X obj 180 128 nbx 5 14 -1e+37 1e+37 0 0 \$0-freq-send \$0-freq empty
0 -8 0 10 -228856 -1 -1 0 256;
#X text 159 126 Hz;
#X obj 135 299 nbx 5 14 1 100 1 0 empty \$0-Q empty 0 -8 0 10 -228856
-1 -1 1 256;
#X obj 111 275 nbx 5 14 -1e+37 1e+37 0 0 empty \$0-freq-send empty
0 -8 0 10 -228856 -1 -1 0 256;
#X obj 102 299 bp~;
#X obj 228 281 fexpr~ g * $x[0] + a1 * $y[-1] + a2 * $y[-2], f 30
;
#X obj 59 86 cnv 15 330 20 empty empty empty 20 12 0 14 -233017 -66577
0;
#X text 69 86 y[n] = g * x[n] + a1 * y[n-1] + a2 * y[n-2];
#X floatatom 127 499 0 0 0 0 - - -;
#X obj 135 640 out~;
#X obj 228 330 out~;
#X obj 102 329 out~;
#N canvas 576 173 488 480 coefficients 0;
#X obj 116 48 inlet;
#X obj 50 48 inlet;
#X obj 216 263 v r;
#X obj 327 257 v omega;
#X obj 272 288 v oneminusr;
#N canvas 523 118 458 266 init 0;
#X msg 115 80 0;
#X obj 115 34 loadbang;
#X msg 209 128 \; pd dsp 1;
#X obj 53 183 s \$0-freq-set;
#X msg 53 159 500;
#X obj 115 137 s \$0-sl-1;
#X obj 290 104 samplerate~;
#X obj 371 135 v pi;
#X obj 291 131 v sr;
#X obj 371 109 pi;
#X obj 158 172 s \$0-q_set;
#X msg 150 107 1;
#X connect 0 0 5 0;
#X connect 1 0 0 0;
#X connect 1 0 2 0;
#X connect 1 0 4 0;
#X connect 1 0 6 0;
#X connect 1 0 11 0;
#X connect 4 0 3 0;
#X connect 6 0 8 0;
#X connect 9 0 7 0;
#X connect 11 0 10 0;
#X restore 199 89 pd init;
#X obj 116 87 t b f;
#X obj 50 130 pack float float;
#X obj 50 159 expr omega \; - r * r \; 2 * oneminusr * (oneminusr +
r * omega) \; 1 - oneminusr \; min(omega / $f2 \, 1) \; $f1 * 2*pi
/ sr;
#N canvas 526 56 548 260 a1 0;
#X obj 62 -35 inlet;
#X obj 59 114 outlet;
#X obj 365 47 v g;
#X obj 59 5 expr (((g*g*g * (-1/720) + g*g*(1/24)) - g*0.5) + 1) \;
$f1 * $f1;
#X obj 59 67 expr max(2 * $f1 * r \, -1);
#X connect 0 0 3 0;
#X connect 3 0 4 0;
#X connect 3 1 2 0;
#X connect 4 0 1 0;
#X restore 50 256 pd a1;
#X obj 73 380 unpack float float float;
#X obj 238 413 outlet;
#X obj 155 413 outlet;
#X obj 73 413 outlet;
#X obj 73 284 pack f f f;
#X obj 73 315 s \$0-coefficients;
#X obj 73 351 r \$0-coefficients;
#X connect 0 0 6 0;
#X connect 1 0 7 0;
#X connect 6 0 7 0;
#X connect 6 1 7 1;
#X connect 7 0 8 0;
#X connect 8 0 9 0;
#X connect 8 1 14 1;
#X connect 8 2 14 2;
#X connect 8 3 2 0;
#X connect 8 4 4 0;
#X connect 8 5 3 0;
#X connect 9 0 14 0;
#X connect 10 0 13 0;
#X connect 10 1 12 0;
#X connect 10 2 11 0;
#X connect 14 0 15 0;
#X connect 16 0 10 0;
#X restore 180 152 pd coefficients;
#X text 11 9 The [bp~] filter has 2 complex poles \, here's the difference
equation and a subpatch that generates the coefficients from a frequency
and Q input \, the coefficients are loaded inside [fexpr~] for comparison:
;
#X text 87 473 gain;
#N canvas 772 85 862 659 Poles 0;
#X obj 578 577 outlet;
#X obj 525 577 outlet;
#X text 135 104 X =;
#X text 171 94 -b;
#X text 188 89 +;
#X text 188 97 -;
#X text 162 101 __________________________;
#X text 200 93 sqrt(b^2 - 4.ac);
#X text 228 117 2.a;
#X obj 525 84 inlet;
#X obj 686 161 unpack;
#X text 665 160 a1;
#X text 152 331 X =;
#X text 205 316 +;
#X text 205 324 -;
#X text 179 328 __________________________;
#X text 193 321 b;
#X text 217 320 sqrt(b^2 - 4.c);
#X text 154 240 X =;
#X text 207 225 +;
#X text 207 233 -;
#X text 181 237 __________________________;
#X text 190 229 a1;
#X text 219 229 sqrt(a1^2 + 4.a2);
#X text 247 253 2;
#X obj 686 195 v b;
#X obj 725 195 v c;
#X text 734 162 a2;
#X obj 525 206 expr pow(b \, 2) + 4*c;
#X obj 525 132 trigger bang list;
#X text 569 83 (a1 a2 b0);
#X obj 525 234 trigger bang float float;
#X obj 607 338 route 0 1;
#X obj 607 285 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj 607 311 pack float float;
#X obj 637 362 abs;
#X obj 637 386 sqrt;
#X obj 591 386 sqrt;
#X obj 607 260 < 0;
#X floatatom 637 408 5 0 0 0 - - -;
#X floatatom 591 407 5 0 0 0 - - -;
#X floatatom 578 536 0 0 0 0 - - -;
#X floatatom 525 536 0 0 0 0 - - -;
#X obj 702 577 outlet;
#X obj 649 577 outlet;
#X floatatom 702 536 0 0 0 0 - - -;
#X floatatom 649 536 0 0 0 0 - - -;
#X obj 637 429 v im;
#X obj 591 429 v re;
#X obj 525 459 expr (b + re) / 2 \; im / 2 \; (b - re) / 2 \; -im /
2, f 27;
#X text 504 535 re;
#X text 557 535 im;
#X text 632 535 re;
#X text 680 535 im;
#X text 240 342 2;
#X text 191 490 +;
#X text 191 498 -;
#X text 179 495 b;
#X text 192 516 2;
#X text 203 494 re;
#X text 167 501 _________;
#X text 378 489 +;
#X text 378 497 -;
#X text 389 514 2;
#X text 390 493 im;
#X text 371 500 _______;
#X text 103 556 +;
#X text 103 564 -;
#X text 47 150 Where "a" should be a feedback coefficient gain "a0"
\, but this is "1" in our case \, so it gets ignored. In out difference
equation variables: a1 = b & a2 = c \, with a detail \, the signs are
reversed \, so we have:;
#X text 89 292 Or \, with the original terms:;
#X text 43 58 The pole extraction is based in bhaskara:;
#X text 85 507 Real Part =;
#X text 256 506 Imaginary Part =;
#X text 69 559 the ( ) indicates how to extract both poles (one with
"+" \, the other with "-").;
#X text 521 46 Let's finally calculate this in a patch:;
#X text 625 284 complex;
#X text 52 381 If (b^2 - 4.c) is negative \, we're extracting a square
root of a negative value \, hence we're dealing with a complex number!
That means: a Complex Pole! So we need to check if it's positive or
negative. If positive \, this is the real part and the imaginary part
is 0 \, but if negative \, it's the imaginary part and the real part
is 0 - we then have both parts as:;
#X text 544 597 pole 1;
#X text 669 596 pole 2;
#X connect 9 0 29 0;
#X connect 10 0 25 0;
#X connect 10 1 26 0;
#X connect 28 0 31 0;
#X connect 29 0 28 0;
#X connect 29 1 10 0;
#X connect 31 0 49 0;
#X connect 31 1 38 0;
#X connect 31 2 34 1;
#X connect 32 0 37 0;
#X connect 32 1 35 0;
#X connect 33 0 34 0;
#X connect 34 0 32 0;
#X connect 35 0 36 0;
#X connect 36 0 39 0;
#X connect 37 0 40 0;
#X connect 38 0 33 0;
#X connect 39 0 47 0;
#X connect 40 0 48 0;
#X connect 41 0 0 0;
#X connect 42 0 1 0;
#X connect 45 0 43 0;
#X connect 46 0 44 0;
#X connect 49 0 42 0;
#X connect 49 1 41 0;
#X connect 49 2 46 0;
#X connect 49 3 45 0;
#X restore 194 495 pd Poles;
#X text 267 127 Q;
#X text 490 51 Even though the coefficients' values are real \, we're
dealing with complex poles. More precisely a conjugate pair \, where
the imaginary values are inverted (and get cancelled out). The subpatch
[pd Poles] gets the complex pole values from the coefficient input.
;
#X text 490 135 The "Q" is the resonance and controls the amplitude
of the poles. The gain parameter compensates this boost in order that
the maximum amplitude value is 0 dB. The angle represents the resonant
frequency.;
#X obj 767 13 declare -path else;
#X obj 194 469 r \$0-coefficients;
#X text 26 404 And see how we can also implement this filter with two
[cpole~] objects (complex pole filters) below.;
#X connect 1 0 2 0;
#X connect 1 1 2 1;
#X connect 2 0 28 0;
#X connect 3 0 1 0;
#X connect 4 0 3 0;
#X connect 5 0 31 1;
#X connect 6 0 13 0;
#X connect 7 0 17 0;
#X connect 8 0 16 0;
#X connect 9 0 2 3;
#X connect 10 0 2 2;
#X connect 11 0 1 3;
#X connect 12 0 1 2;
#X connect 14 0 27 0;
#X connect 15 0 24 0;
#X connect 18 0 23 0;
#X connect 19 0 31 0;
#X connect 21 0 23 2;
#X connect 22 0 23 1;
#X connect 23 0 30 0;
#X connect 24 0 29 0;
#X connect 27 0 3 1;
#X connect 31 0 8 0;
#X connect 31 1 7 0;
#X connect 31 2 6 0;
#X connect 34 0 12 0;
#X connect 34 1 11 0;
#X connect 34 2 10 0;
#X connect 34 3 9 0;
#X connect 39 0 14 0;
#X connect 39 0 34 0;
